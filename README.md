# What Would Jesus Say? ğŸ™

A browser extension that provides Jesus Christ's perspective on the content you're viewing. Have you ever wondered what Jesus would say about your browsing history? Now you can find out!

## Overview

This project consists of two main components:

- **Browser Extension**: A Chrome/Edge extension that extracts page content and displays AI-generated responses
- **Backend API**: A Node.js/TypeScript server that uses OpenAI's GPT models to generate responses in the voice of Jesus

## Features

- ğŸ¯ **Context-Aware Analysis**: Extracts meaningful content from web pages including titles, descriptions, headings, and main content
- ğŸ¤– **AI-Powered Responses**: Uses OpenAI's GPT models to generate thoughtful, character-appropriate responses
- âš¡ **Smart Caching**: Responses are cached for 1 hour to improve performance and reduce API costs
- ğŸ›¡ï¸ **Rate Limiting**: Built-in protection against API abuse
- ğŸ”’ **Secure**: Uses CORS, Helmet, and other security middleware

## Project Structure

```
wwjs/
â”œâ”€â”€ backend/              # Express.js API server
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ server.ts            # Main server entry point
â”‚   â”‚   â”œâ”€â”€ middleware/          # CORS and rate limiting
â”‚   â”‚   â”œâ”€â”€ routes/              # API endpoints
â”‚   â”‚   â”œâ”€â”€ services/            # OpenAI integration
â”‚   â”‚   â””â”€â”€ types/               # TypeScript definitions
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ extension/            # Browser extension
    â”œâ”€â”€ manifest.json            # Extension configuration
    â”œâ”€â”€ popup.html              # Extension popup UI
    â”œâ”€â”€ popup.js                # UI logic
    â”œâ”€â”€ background.js           # Content extraction
    â””â”€â”€ icons/                  # Extension icons
```

## Getting Started

### Prerequisites

- Node.js (v18 or higher)
- npm or yarn
- OpenAI API key
- Chrome or Edge browser

### Backend Setup

1. Navigate to the backend directory:

   ```bash
   cd backend
   ```

2. Install dependencies:

   ```bash
   npm install
   ```

3. Create a `.env` file in the backend directory:

   ```env
   OPENAI_API_KEY=your_openai_api_key_here
   OPENAI_MODEL=gpt-4o-mini
   PORT=3000
   ```

4. Start the development server:

   ```bash
   npm run dev
   ```

   Or build and run in production:

   ```bash
   npm run build
   npm start
   ```

### Extension Setup

1. Open Chrome/Edge and navigate to `chrome://extensions/`

2. Enable "Developer mode" (toggle in the top-right corner)

3. Click "Load unpacked" and select the `extension` directory

4. The extension icon should appear in your browser toolbar

## Usage

1. Navigate to any webpage
2. Click the "What Would Jesus Say?" extension icon
3. Click the "Ask Jesus" button
4. Wait for the AI-generated response from Jesus's perspective

## API Endpoints

### `POST /api/analyze`

Analyzes page content and returns Jesus's perspective.

**Request Body:**

```json
{
  "url": "https://example.com",
  "title": "Page Title",
  "description": "Page description",
  "mainContent": "Main page content...",
  "headings": ["Heading 1", "Heading 2"],
  "images": ["Alt text 1", "Alt text 2"]
}
```

**Response:**

```json
{
  "message": "My child, I see that you are...",
  "cached": false,
  "model": "gpt-4o-mini"
}
```

## Technologies Used

### Backend

- **Express.js**: Web framework
- **TypeScript**: Type-safe development
- **OpenAI API**: AI response generation
- **node-cache**: Response caching
- **express-rate-limit**: API rate limiting
- **CORS & Helmet**: Security middleware

### Extension

- **Manifest V3**: Latest Chrome extension API
- **Vanilla JavaScript**: No framework dependencies
- **Chrome APIs**: Tab access, storage, and scripting

## Development

### Backend Development

```bash
cd backend
npm run dev      # Start with hot reload
npm run build    # Build TypeScript
npm run lint     # Run ESLint
```

### Extension Development

After making changes to extension files, click the refresh icon in `chrome://extensions/` to reload the extension.

## License

MIT

## Author

Valentyn

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Disclaimer

This extension is intended for entertainment and spiritual reflection purposes. The responses are generated by AI and should not be considered actual religious guidance or doctrine.
